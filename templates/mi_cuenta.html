<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mi Cuenta - Florer铆a Manu</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/output.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/mi_cuenta_botones.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/regresar.css')}}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/modo-oscuro.css')}}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/chatbot-logo.css') }}">
  

</head>

<body class="bg-pink-50 font-sans min-h-screen flex items-center justify-center">

  <div class="bg-white rounded-3xl shadow-lg p-10 w-full max-w-3xl border border-pink-200 space-y-8">

    <!-- Bot贸n regresar -->
  <div class="boton-regresar">
    <a href="/Sitio_Inclusivo">
      <img src="{{ url_for('static', filename='image/logos/regresar.png') }}" alt="Regresar" class="auto-invert2">
    </a>
  </div>

    <!-- Encabezado -->
    <div class="text-center space-y-2">
      <h1 class="text-3xl font-extrabold text-green-700">Mi Cuenta</h1>
      <div class="flex items-center justify-center gap-2">
        <p class="text-gray-600 text-sm">
          隆Bienvenid@, <span class="font-semibold text-green-700">{{ user.nombre }}</span>a la floreria Manu!
        </p>
        <span class="text-sm"></span>
      </div>
      <div class="mx-auto w-20 h-0.5 bg-pink-200 rounded-full"></div>
    </div>

    <!-- Perfil -->
    <div class="flex flex-col items-stretch gap-4">
      <div class="flex items-center gap-4">

        <!-- Foto de perfil solo lectura -->
        <img id="fotoPerfil"
             src="static/image/logos/perfil1.png"
             alt="Perfil"
             class="w-24 h-24 rounded-full shadow-lg object-cover">

        <div class="flex-1 min-w-0">
          <h2 class="text-xl font-semibold text-green-700 truncate">{{ user.nombre }} {{ user.apellido }}</h2>
          <p class="text-gray-500 text-sm truncate">{{ user.email }}</p>
        </div>
      </div>

      <!-- Informaci贸n Personal -->
      <div class="bg-pink-50 rounded-2xl p-6 shadow-sm border border-pink-100">
        <form id="formUsuario" action="/actualizar_usuario" method="POST">
          <div class="flex items-start justify-between">
            <h3 class="text-lg font-semibold text-green-800 mb-3">Informaci贸n Personal</h3>
            <div id="infoControls" class="hidden space-x-2">
              <button type="submit" class="bg-green-600 text-white px-3 py-1 rounded-md text-sm hover:bg-green-700">Guardar</button>
              <button type="button" id="btnCancelInfo" class="bg-white border border-gray-200 px-3 py-1 rounded-md text-sm hover:bg-gray-50">Cancelar</button>
            </div>
          </div>

          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm text-gray-600 mb-1">Nombre</label>
              <input id="nombre" name="nombre" type="text" value="{{ user.nombre }}" readonly
                     class="w-full border border-green-200 rounded-lg px-4 py-2 bg-white focus:ring-2 focus:ring-green-200 text-sm">
            </div>
            <div>
              <label class="block text-sm text-gray-600 mb-1">Apellido</label>
              <input id="apellido" name="apellido" type="text" value="{{ user.apellido }}" readonly
                     class="w-full border border-green-200 rounded-lg px-4 py-2 bg-white focus:ring-2 focus:ring-green-200 text-sm">
            </div>
            <div>
              <label class="block text-sm text-gray-600 mb-1">Tel茅fono</label>
              <input id="telefono" name="telefono" type="tel" value="{{ user.telefono }}" readonly
                     class="w-full border border-green-200 rounded-lg px-4 py-2 bg-white focus:ring-2 focus:ring-green-200 text-sm">
            </div>
            <div>
              <label class="block text-sm text-gray-600 mb-1">Direcci贸n</label>
              <input id="direccion" name="direccion" type="text" value="{{ user.direccion }}" readonly
                     class="w-full border border-green-200 rounded-lg px-4 py-2 bg-white focus:ring-2 focus:ring-green-200 text-sm">
            </div>
          </div>
        </form>
      </div>

    <!-- Botones de acciones r谩pidas -->
<div class="mi-cuenta-actions-wrapper mt-4" aria-label="Acciones de mi cuenta">
  <div class="mi-cuenta-actions flex items-center justify-between gap-4 text-center">
    
    <!-- Editar perfil -->
    <a href="#" id="btnEditarPerfil" class="action-card flex flex-col items-center p-3" aria-label="Editar perfil">
      <div class="icon-circle" aria-hidden="true">
        <svg viewBox="0 0 23 23" class="icon-svg" xmlns="http://www.w3.org/2000/svg"><path d="M12 12c2.761 0 5-2.239 5-5s-2.239-5-5-5-5 2.239-5 5 2.239 5 5 5zM12 14c-4.418 0-8 3.582-8 8h2c0-3.309 2.691-6 6-6s6 2.691 6 6h2c0-4.418-3.582-8-8-8z"/></svg>
      </div>
      <div class="card-title">Editar perfil</div>
    </a>

    <!-- Favoritos -->
    <a href="/favoritos" class="action-card flex flex-col items-center p-3" aria-label="Favoritos">
      <div class="icon-circle" aria-hidden="true">
        <svg viewBox="0 0 23 23" class="icon-svg" xmlns="http://www.w3.org/2000/svg"><path d="M12 21s-7-4.35-9-7.1C0 11.36 2.24 7 6 7c1.94 0 3.18 1.01 4 2 .82-.99 2.06-2 4-2 3.76 0 6 4.36 3 6.9C19 16.65 12 21 12 21z"/></svg>
      </div>
      <div class="card-title">Favoritos</div>
    </a>

    <!-- Mis pedidos -->
    <a href="/carrito" class="action-card flex flex-col items-center p-3" aria-label="Mis pedidos">
      <div class="icon-circle" aria-hidden="true">
        <svg viewBox="0 0 23 23" class="icon-svg" xmlns="http://www.w3.org/2000/svg"><path d="M7 4h-2l-1 2h2l1-2zm2 0h8v2h-8zM6 8h12l-1.2 8.4A2 2 0 0 1 14.82 18H9.18a2 2 0 0 1-1.98-1.6L6 8zM9 20a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm6 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/></svg>
      </div>
      <div class="card-title">Mis pedidos</div>
    </a>

    <!-- Nuevo bot贸n: Mis cotizaciones -->
    <a href="/formulario_cotizacion" class="action-card flex flex-col items-center p-3" aria-label="Mis cotizaciones">
      <div class="icon-circle" aria-hidden="true">
        <svg viewBox="0 0 23 23" class="icon-svg" xmlns="http://www.w3.org/2000/svg"><path d="M4 4h15v2H4V4zm0 4h15v2H4V8zm0 4h15v2H4v-2zm0 4h15v2H4v-2z"/></svg>
      </div>
      <div class="card-title">Mis cotizaciones</div>
    </a>

    <!-- Cerrar sesi贸n -->
    <a href="/Sitio_Inclusivo" class="action-card flex flex-col items-center p-3" aria-label="Cerrar sesi贸n">
      <div class="icon-circle" aria-hidden="true">
        <svg viewBox="0 0 23 23" class="icon-svg" xmlns="http://www.w3.org/2000/svg"><path d="M16 13v-2H7V8l-5 4 5 4v-3zM20 3H10v2h10v14H10v2h10c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/></svg>
      </div>
      <div class="card-title">Cerrar sesi贸n</div>
    </a>

  </div>


</div>

   <!-- Bot贸n para el chatbot-->
    <div class="chatbot-wrapper fixed bottom-24 right-6 z-50">
      <!-- Globo de di谩logo -->
      <div id="floribot-bubble" class="chatbot-bubble">
        Soy FloriBot tu asistente,<br />
        Si necesitas informaci贸n sobre ramos, arreglos, coronas o etc,<br />
        no dudes en preguntarme.
      </div>

      <!-- chatbot -->
      <a href="/chatbot" target="_blank" id="chatbot-toggle" class="chatbot-button">
        <img src="static/image/logos/chatbot-icon.png" alt="Chatbot" />
      </a>
    </div>



    <!-- Bot贸n flotante de WhatsApp -->

    <a href="https://wa.me/51967086515" target="_blank" class="fixed bottom-6 right-6 z-50">
      <img src="static/image/logos/whatsapp.png" alt="WhatsApp"
        class="w-16 h-16 rounded-full shadow-lg hover:scale-110 transition-transform duration-300" />
    </a>

</div>

     <script src="{{ url_for('static', filename='js/cuenta.js') }}" defer></script>
     <script src="{{ url_for('static', filename='js/modo-oscuro.js') }}" defer></script>

</body>
</html>
